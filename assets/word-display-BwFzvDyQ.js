import{j as e,a as x,k as p,r as f}from"./index-B3uVBAsC.js";import{W as d,p as h}from"./word-container-CaSbxNBc.js";import{c as u}from"./index-DnPBO3CS.js";function g(o){const{currentCharacter:i,dictionary:n,primitives:a}=o,r=[];if(i in n){const s=n[i].exampleSentence.indexOf(i);n[i].exampleSentence.split("").forEach((t,m)=>{(m<s-1||s-1+i.length<m)&&(/[\u4e00-\u9fff]/.test(t)?r.push(e.jsx(d,{className:"inline-block",hanzi:t},"ex_sen_"+t+"_"+m)):r.push(t))}),r.splice(s-1,0,e.jsx(d,{className:"inline-block",hanzi:i,type:"highlighted"},"ex_sen_"+i))}const l=[];let c=!1;return i.split("").forEach(s=>{s in a&&(c=!0,Array.isArray(a[s])?l.push(e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(d,{className:"inline-block text-3xl",hanzi:s,type:"transparent"}),e.jsx("div",{className:"border-l-neutral-400 border-l-2 pl-2",children:a[s].map(t=>e.jsxs("div",{className:"py-1 flex flex-row gap-2",children:[e.jsx("p",{className:"font-semibold text-xl",children:t.primitive}),t.reason]},"prim_"+t.primitive))})]},"char_prim_"+s)):l.push(e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("p",{className:"text-3xl font-bold",children:s}),e.jsx("div",{className:"border-l-neutral-400 border-l-2 pl-2",children:a[s]})]},"char_prim_"+s)))}),c||l.push(e.jsx("p",{className:"font-medium text-red-400",children:"No primitive data..."})),e.jsxs("div",{className:"w-full text-center",children:[e.jsx("p",{className:"font-light",style:{color:"var(--primary)"},children:"PINYIN"}),e.jsx("p",{className:"text-3xl font-bold capitalize mb-3",children:h(i).join(" ")}),e.jsx("p",{className:"font-light",style:{color:"var(--primary)"},children:"MEANING"}),n[i]?e.jsx("p",{className:"text-xl font-medium capitalize mb-3",children:n[i].meaning}):e.jsx("p",{className:"font-medium text-red-400",children:"No meaning in dictionary..."}),e.jsx("p",{className:"font-light mb-1",style:{color:"var(--primary)"},children:"EXAMPLE"}),e.jsx("div",{className:"text-left p-2 bg-neutral-600 rounded-md mb-3",children:n[i]?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-medium capitalize mb-3 text-left",children:r}),e.jsx("p",{className:"font-light mb-1 text-sm",style:{color:"var(--primary)"},children:"MEANING"}),e.jsx("p",{className:"text-xl font-medium capitalize",children:n[i].exampleMeaning})]}):e.jsx("p",{className:"font-medium text-red-400",children:"No example in dictionary..."})}),e.jsx("p",{className:"font-light mb-1",style:{color:"var(--primary)"},children:"PRIMITIVES"}),e.jsx("div",{className:"text-left p-3 bg-neutral-600 rounded-md flex flex-col gap-3",children:l})]})}function b(o){const i=x(p),[n,a]=f.useState(!1),r=()=>{if(o.word){const l=new SpeechSynthesisUtterance(o.word),c=window.speechSynthesis.getVoices();l.rate=.5;let s;i.ttsVoice&&(s=c.find(t=>t.name==i.ttsVoice)),s||(s=c.find(t=>t.lang.includes("zh-CN")||t.lang.includes("zh"))),s?l.voice=s:alert("Chinese voice not available in your browser."),l.onstart=()=>{a(!0)},l.onend=()=>{a(!1)},window.speechSynthesis.speak(l)}};return e.jsxs("div",{className:"w-full p-3 rounded-md text-center text-7xl font-medium relative cursor-pointer "+(n?"bg-neutral-600":"bg-neutral-700"),onClick:r,children:[o.word,e.jsxs("p",{className:"absolute left-2 top-2 text-xs font-thin",children:[e.jsx(u,{className:"inline"})," Click to play sound"]})]})}export{g as C,b as W};

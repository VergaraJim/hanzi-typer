import{r as s,j as t,u as h,b,a as m,k as v,f as j,B as p,l as w}from"./index-B3uVBAsC.js";function y(e){var r;const[c,o]=s.useState(!1);let a="h-12 min-w-12 px-3 py-1 rounded-lg shadow-md active:shadow-none active:brightness-90 flex justify-start items-center "+(e.className||"")+" "+(e.disabled?"pointer-events-none opacity-50":""),i={backgroundColor:"transparent",outline:"1px solid var(--primary)",outlineOffset:"-1px",color:"var(--primary)"};const u=s.useMemo(()=>t.jsx("div",{className:"absolute top-full mt-1 rounded-md max-h-96 overflow-auto flex flex-col w-full",children:e.options&&Object.keys(e.options).map(n=>t.jsx("button",{onClick:()=>{o(!1),e.setValue&&e.setValue(n)},className:"bg-neutral-600 px-3 py-2 hover:bg-neutral-500 active:bg-neutral-500 cursor-pointer",children:e.options[n]},n))}),[e.options]);return t.jsxs("div",{className:"flex flex-col relative",children:[t.jsx("p",{className:"font-bold text-lg mb-1",children:((r=e.label)==null?void 0:r.toUpperCase())??"DROPDOWN"}),t.jsx("button",{type:"button",onClick:()=>{e.options&&Object.keys(e.options).length>0&&o(!c)},style:i,className:a,children:e.value?e.options?e.options[e.value]:e.value:"Please select..."}),c?u:null]})}function S(){const e=h(),c=b(),o=m(v),a=m(j),[i,u]=s.useState({}),[r,n]=s.useState({}),f=async()=>{await new Promise(d=>setTimeout(d,100));const l={};window.speechSynthesis.getVoices().forEach(d=>{l[d.name]=d.name}),n(l),Object.keys(l).length==0?f():n(l)},g=()=>{c(w(i))};s.useEffect(()=>{u(o)},[o]),s.useEffect(()=>{f()},[]);const x=s.useRef(a);return s.useEffect(()=>{!a&&x.current&&e("/"),x.current=a},[a]),t.jsx("div",{className:"container mx-auto h-full flex flex-col md:flex-row gap-2",children:t.jsxs("div",{style:{maxWidth:"500px"},className:"mx-auto w-full flex-col gap-2 h-full overflow-auto px-2 pb-2",children:[t.jsx("p",{className:"text-3xl text-center font-bold md:sticky md:top-0",children:"CATEGORIES"}),t.jsx(y,{label:"Voice",options:r,value:i.ttsVoice,setValue:l=>{u({...i,ttsVoice:l})}}),t.jsx(p,{className:"mt-5 w-full",disabled:a,onClick:g,children:"SAVE"})]})})}export{S as default};
